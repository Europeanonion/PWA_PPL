function initNetworkStatus(){let e=document.getElementById("network-status");e||(e=document.createElement("div"),e.id="network-status",e.className="network-status",document.body.appendChild(e),addNetworkStatusStyles()),updateNetworkStatus(),window.addEventListener("online",updateNetworkStatus),window.addEventListener("offline",updateNetworkStatus)}function updateNetworkStatus(){const e=document.getElementById("network-status");if(!e)return;navigator.onLine?(e.className="network-status online",e.innerHTML='<span class="status-icon">âœ“</span> Online',setTimeout((()=>{e.classList.add("hidden")}),3e3)):(e.className="network-status offline",e.innerHTML='<span class="status-icon">!</span> Offline Mode',showFeedback("You are offline. Your changes will be saved locally.","warning"),e.classList.remove("hidden"))}function showFeedback(e,n="info"){if(window.workoutStorage&&window.workoutStorage.showFeedback)return void window.workoutStorage.showFeedback(e,n);let t=document.getElementById("feedback-message");t||(t=document.createElement("div"),t.id="feedback-message",t.className="feedback-message",document.body.appendChild(t)),t.textContent=e,t.className=`feedback-message ${n}`,t.style.display="block",setTimeout((()=>{t.style.display="none"}),3e3)}function addNetworkStatusStyles(){if(document.getElementById("network-status-styles"))return;const e=document.createElement("style");e.id="network-status-styles",e.textContent="\n    .network-status {\n      position: fixed;\n      top: 70px;\n      right: 20px;\n      padding: 8px 16px;\n      border-radius: 20px;\n      font-size: 14px;\n      font-weight: 500;\n      z-index: 1000;\n      display: flex;\n      align-items: center;\n      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n      transition: all 0.3s ease;\n      opacity: 1;\n    }\n    \n    .network-status.hidden {\n      opacity: 0;\n      transform: translateY(-10px);\n      pointer-events: none;\n    }\n    \n    .network-status.online {\n      background-color: var(--success-light, #dcfce7);\n      color: var(--success-color, #22c55e);\n      border: 1px solid var(--success-color, #22c55e);\n    }\n    \n    .network-status.offline {\n      background-color: var(--warning-light, #fef3c7);\n      color: var(--warning-color, #f59e0b);\n      border: 1px solid var(--warning-color, #f59e0b);\n    }\n    \n    .status-icon {\n      display: inline-flex;\n      align-items: center;\n      justify-content: center;\n      width: 20px;\n      height: 20px;\n      border-radius: 50%;\n      margin-right: 8px;\n      font-size: 12px;\n      font-weight: bold;\n    }\n    \n    .online .status-icon {\n      background-color: var(--success-color, #22c55e);\n      color: white;\n    }\n    \n    .offline .status-icon {\n      background-color: var(--warning-color, #f59e0b);\n      color: white;\n    }\n    \n    @media (prefers-color-scheme: dark) {\n      .network-status.online {\n        background-color: rgba(34, 197, 94, 0.2);\n      }\n      \n      .network-status.offline {\n        background-color: rgba(245, 158, 11, 0.2);\n      }\n    }\n    \n    @media (max-width: 600px) {\n      .network-status {\n        top: auto;\n        bottom: 20px;\n        right: 20px;\n        font-size: 12px;\n        padding: 6px 12px;\n      }\n    }\n  ",document.head.appendChild(e)}function checkConnectionQuality(){if("connection"in navigator){const e=navigator.connection;"slow-2g"!==e.effectiveType&&"2g"!==e.effectiveType||showFeedback("Slow connection detected. Some features may be limited.","warning"),e.addEventListener("change",(()=>{"slow-2g"!==e.effectiveType&&"2g"!==e.effectiveType||showFeedback("Connection speed changed. Some features may be limited.","warning")}))}}document.addEventListener("DOMContentLoaded",(()=>{initNetworkStatus(),checkConnectionQuality(),"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener("controllerchange",(()=>{showFeedback("App updated. Refresh for the latest version.","info")}))})),window.networkStatus={init:initNetworkStatus,update:updateNetworkStatus,check:checkConnectionQuality};